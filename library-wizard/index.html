<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Library | Have Mind Media</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #0a0a0f;
            color: #e0e0e0;
            min-height: 100vh;
        }

        a { color: #c9a227; text-decoration: none; }
        a:hover { text-decoration: underline; }

        .header {
            position: sticky;
            top: 0;
            background: #0a0a0f;
            border-bottom: 1px solid #222;
            padding: 12px 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 12px;
            z-index: 100;
        }

        .logo { color: #c9a227; font-weight: 600; font-size: 0.9rem; }

        .search {
            flex: 1;
            max-width: 250px;
            padding: 8px 12px;
            background: #1a1a1f;
            border: 1px solid #333;
            border-radius: 6px;
            color: #e0e0e0;
            font-size: 0.9rem;
        }

        .search:focus { outline: none; border-color: #c9a227; }

        .main { padding: 20px 16px; max-width: 900px; margin: 0 auto; }

        h1 {
            color: #c9a227;
            font-size: 1.5rem;
            margin-bottom: 8px;
            text-align: center;
        }

        .subtitle {
            text-align: center;
            color: #888;
            margin-bottom: 24px;
        }

        /* Sections */
        .section {
            margin-bottom: 24px;
            background: #111;
            border: 1px solid #222;
            border-radius: 8px;
            overflow: hidden;
        }

        .section-header {
            background: #1a1a1f;
            padding: 12px 16px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #222;
        }

        .section-header:hover { background: #222; }

        .section-title {
            font-weight: 600;
            color: #c9a227;
        }

        .section-count {
            font-size: 0.8rem;
            color: #666;
        }

        .section-arrow {
            color: #666;
            transition: transform 0.2s;
        }

        .section.open .section-arrow { transform: rotate(90deg); }

        .section-books {
            display: none;
            padding: 8px;
        }

        .section.open .section-books { display: block; }

        .book-link {
            display: block;
            padding: 10px 12px;
            color: #e0e0e0;
            border-radius: 4px;
            transition: background 0.15s;
        }

        .book-link:hover {
            background: #1a1a1f;
            text-decoration: none;
            color: #c9a227;
        }

        /* Search results */
        .search-results {
            display: none;
            margin-bottom: 24px;
            background: #111;
            border: 1px solid #c9a227;
            border-radius: 8px;
            padding: 12px;
        }

        .search-results.active { display: block; }

        .search-results h3 {
            color: #c9a227;
            font-size: 0.9rem;
            margin-bottom: 12px;
        }

        .no-results { color: #888; font-style: italic; }

        /* Footer */
        .footer {
            text-align: center;
            padding: 24px 16px;
            color: #666;
            font-size: 0.85rem;
            border-top: 1px solid #222;
            margin-top: 24px;
        }

        .suggest-section {
            background: #1a1a1f;
            border: 1px solid #333;
            border-radius: 8px;
            padding: 16px;
            margin-top: 24px;
        }

        .suggest-section h3 {
            color: #c9a227;
            margin-bottom: 12px;
        }

        .suggest-form { display: flex; flex-direction: column; gap: 10px; }

        .suggest-input, .suggest-textarea {
            padding: 10px;
            background: #0a0a0f;
            border: 1px solid #333;
            border-radius: 4px;
            color: #e0e0e0;
            font-family: inherit;
        }

        .suggest-textarea { min-height: 80px; resize: vertical; }

        .suggest-btn {
            padding: 10px 20px;
            background: #c9a227;
            color: #0a0a0f;
            border: none;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
            align-self: flex-start;
        }

        .suggest-btn:hover { background: #d4af37; }

        .success-msg { color: #4a9; display: none; }
        .success-msg.show { display: block; }
    </style>
</head>
<body>
    <header class="header">
        <a href="../index.html" class="logo">HAVE MIND MEDIA</a>
        <input type="text" class="search" id="search" placeholder="Search...">
    </header>

    <main class="main">
        <h1>The Library</h1>
        <p class="subtitle">71 pages across 13 categories</p>

        <div class="search-results" id="search-results">
            <h3>Search Results</h3>
            <div id="results-list"></div>
        </div>

        <div id="sections"></div>

        <div class="suggest-section">
            <h3>Can't find what you're looking for?</h3>
            <form class="suggest-form" id="suggest-form">
                <input type="email" class="suggest-input" name="email" placeholder="Your email" required>
                <textarea class="suggest-textarea" name="message" placeholder="Suggest a research topic or hire us for custom research..." required></textarea>
                <button type="submit" class="suggest-btn">Submit</button>
            </form>
            <p class="success-msg" id="success-msg">Thanks! We'll be in touch.</p>
        </div>

        <div class="footer">
            <p>[1 = -1] · <a href="../index.html">havemindmedia.com</a></p>
        </div>
    </main>

    <script>
        const LIBRARY = {
            "Home & General": [
                { title: "Home", url: "../index.html" },
                { title: "Master Library", url: "../library.html" }
            ],
            "Physics & Geometry": [
                { title: "Three-Body Solution", url: "../physics/three-body-geometry.html" },
                { title: "Millennium Problems", url: "../physics/millennium-problems.html" },
                { title: "JWST Geometric Explorer", url: "../physics/jwst-geometric-explorer.html" },
                { title: "Scalar Crossroads", url: "../physics-viz/scalar-crossroads-animated.html" },
                { title: "Quad Helix Base-60", url: "../physics-viz/quad-helix-base60.html" },
                { title: "Quad Helix v2.0", url: "../physics-viz/quad-helix-base60-v2.0.html" }
            ],
            "CEDGA Framework": [
                { title: "CEDGA Overview", url: "../cedga/index.html" },
                { title: "Kappa Constant", url: "../cedga/pages/kappa-constant.html" },
                { title: "Tetrahelix", url: "../cedga/pages/tetrahelix.html" },
                { title: "Balance Law", url: "../cedga/pages/balance-law.html" },
                { title: "M4 Simulator", url: "../cedga/tools/m4-simulator.html" },
                { title: "Test Analysis", url: "../cedga/research/test-analysis.html" }
            ],
            "Biological Models": [
                { title: "DNA Studio", url: "../dna-studio/index.html" },
                { title: "Epoch Atomic Model", url: "../epoch-atomic/index.html" },
                { title: "Protein Folding", url: "../protein-folding/index.html" },
                { title: "Neurodegeneration", url: "../neurodegeneration/index.html" }
            ],
            "Soul Science": [
                { title: "Soul Science", url: "../education/soul-science.html" },
                { title: "Becoming a Coin", url: "../education/becoming-a-coin.html" },
                { title: "The Mirror", url: "../education/mirror/index.html" },
                { title: "Life-Facing Wisdom", url: "../education/life-facing-wisdom.html" },
                { title: "Vinyl Paradox", url: "../education/vinyl-paradox.html" },
                { title: "Sol Vision", url: "../tools/sol-vision/index.html" }
            ],
            "Education": [
                { title: "Socratean Education", url: "../education/socratean-education.html" },
                { title: "Geometry Challenge", url: "../education/geometry-challenge.html" },
                { title: "Teaching Guide", url: "../teaching/Scalar_Dimensionality_Teaching_Document.html" }
            ],
            "Voynich Manuscript": [
                { title: "Voynich Overview", url: "../ancient-mysteries/voynich/index.html" },
                { title: "Herbal Section", url: "../ancient-mysteries/voynich/herbal.html" },
                { title: "Astronomical", url: "../ancient-mysteries/voynich/astronomical.html" },
                { title: "Biological", url: "../ancient-mysteries/voynich/biological.html" },
                { title: "Cosmological", url: "../ancient-mysteries/voynich/cosmological.html" },
                { title: "Pharmaceutical", url: "../ancient-mysteries/voynich/pharmaceutical.html" },
                { title: "Zodiac", url: "../ancient-mysteries/voynich/zodiac.html" },
                { title: "Recipes", url: "../ancient-mysteries/voynich/recipes.html" },
                { title: "Analysis", url: "../ancient-mysteries/voynich/analysis.html" }
            ],
            "Ancient Texts": [
                { title: "Rongorongo", url: "../ancient-mysteries/texts/rongorongo-v1.0.html" },
                { title: "Phaistos Disc", url: "../ancient-mysteries/texts/phaistos-v1.0.html" },
                { title: "Ancient Mathematics", url: "../ancient-mysteries/texts/ancient-mathematics-v1.0.html" }
            ],
            "Norse Artifacts": [
                { title: "Rök Runestone", url: "../ancient-mysteries/norse-artifacts/rok-runestone_v1.0_01-01-2026.html" },
                { title: "Gotland Stones", url: "../ancient-mysteries/norse-artifacts/gotland-stones_v1.0_01-01-2026.html" },
                { title: "Gold Bracteates", url: "../ancient-mysteries/norse-artifacts/bracteates_v1.0_01-01-2026.html" },
                { title: "Oseberg Ship", url: "../ancient-mysteries/norse-artifacts/oseberg_v1.0_01-01-2026.html" },
                { title: "Norse Symbols", url: "../ancient-mysteries/norse-artifacts/norse-symbols_v1.0_01-01-2026.html" },
                { title: "Norse Library Card", url: "../ancient-mysteries/norse-artifacts/LIBRARY_CARD_Norse_Artifacts_v1.0_01-01-2026.html" }
            ],
            "S-Signature Tools": [
                { title: "S-Signature 128", url: "../tools/s-signature/s_signature_128.html" },
                { title: "Assessment", url: "../tools/s-signature/s_signature_assessment.html" },
                { title: "Evolving", url: "../tools/s-signature/s_signature_evolving.html" },
                { title: "Prediction", url: "../tools/s-signature/s_signature_prediction.html" },
                { title: "Sphere", url: "../tools/s-signature/s_signature_sphere.html" },
                { title: "Coin", url: "../tools/s-signature/s_signature_coin.html" },
                { title: "Card", url: "../tools/s-signature/s_signature_card.html" },
                { title: "Oracle", url: "../tools/s-signature/s_signature_oracle.html" },
                { title: "Engine", url: "../tools/s-signature/s_signature_engine.html" },
                { title: "Deep Oracle", url: "../tools/s-signature/deep_oracle.html" },
                { title: "Reductive Oracle", url: "../tools/s-signature/reductive_oracle.html" },
                { title: "Cohort Engine", url: "../tools/s-signature/cohort_engine.html" },
                { title: "Jason Ray Signature", url: "../tools/s-signature/jason_ray_s_signature.html" }
            ],
            "Interactive Tools": [
                { title: "Mind Reading (tools)", url: "../tools/mind-reading/index.html" },
                { title: "M4 Visualizer", url: "../tools/m4-visualizer/index.html" },
                { title: "Interaction Modeler", url: "../tools/interaction-modeler/index.html" }
            ],
            "Mind Games": [
                { title: "Games Hub", url: "../games/index.html" },
                { title: "Mind Reading (Games)", url: "../games/mind-reading/index.html" },
                { title: "Balance", url: "../games/balance/index.html" }
            ],
            "Documents & Theory": [
                { title: "Unified Theory", url: "../documents/dec14-unified-theory/index.html" },
                { title: "Main Framework", url: "../documents/dec14-unified-theory/main-framework.html" },
                { title: "Dual-Axis Explorer", url: "../documents/dec14-unified-theory/dual-axis-explorer.html" },
                { title: "CERN Validation", url: "../documents/dec14-model-cern/index.html" },
                { title: "CERN Scalar Geometry", url: "../documents/cern-scalar-geometry.html" },
                { title: "Epoch Framework", url: "../documents/epoch-framework/index.html" },
                { title: "Tribute", url: "../documents/tribute/index.html" }
            ]
        };

        // Render sections
        const sectionsEl = document.getElementById('sections');

        Object.entries(LIBRARY).forEach(([name, books], idx) => {
            const section = document.createElement('div');
            section.className = 'section' + (idx === 0 ? ' open' : '');

            section.innerHTML = `
                <div class="section-header">
                    <span class="section-title">${name}</span>
                    <span class="section-count">${books.length}</span>
                    <span class="section-arrow">▶</span>
                </div>
                <div class="section-books">
                    ${books.map(b => `<a href="${b.url}" class="book-link">${b.title}</a>`).join('')}
                </div>
            `;

            section.querySelector('.section-header').addEventListener('click', () => {
                section.classList.toggle('open');
            });

            sectionsEl.appendChild(section);
        });

        // Search
        const searchInput = document.getElementById('search');
        const searchResults = document.getElementById('search-results');
        const resultsList = document.getElementById('results-list');

        searchInput.addEventListener('input', (e) => {
            const q = e.target.value.toLowerCase().trim();

            if (q.length < 2) {
                searchResults.classList.remove('active');
                return;
            }

            const matches = [];
            Object.entries(LIBRARY).forEach(([section, books]) => {
                books.forEach(book => {
                    if (book.title.toLowerCase().includes(q)) {
                        matches.push({ ...book, section });
                    }
                });
            });

            if (matches.length) {
                resultsList.innerHTML = matches.map(m =>
                    `<a href="${m.url}" class="book-link">${m.title} <span style="color:#666">— ${m.section}</span></a>`
                ).join('');
            } else {
                resultsList.innerHTML = '<p class="no-results">No results found. Try a different search or suggest a topic below.</p>';
            }

            searchResults.classList.add('active');
        });

        // Suggest form
        document.getElementById('suggest-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const fd = new FormData(e.target);
            const data = {
                email: fd.get('email'),
                message: fd.get('message'),
                date: new Date().toISOString()
            };

            const subs = JSON.parse(localStorage.getItem('hmm-suggestions') || '[]');
            subs.push(data);
            localStorage.setItem('hmm-suggestions', JSON.stringify(subs));

            e.target.reset();
            document.getElementById('success-msg').classList.add('show');
            setTimeout(() => {
                document.getElementById('success-msg').classList.remove('show');
            }, 3000);
        });
    </script>
</body>
</html>
